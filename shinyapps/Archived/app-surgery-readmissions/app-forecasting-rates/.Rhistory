### 0a Libraries
library(tidyverse)
library(arm)
library(forecast)
library(ggplot2)
install.packages("arm")
install.packages("forecast")
### 0a Libraries
library(tidyverse)
library(arm)
library(forecast)
library(ggplot2)
### 0b Functions
NA
### 0c Constants
kColPurple = "#48156BBF"
### 1 Import
Path = "H:/Restricted Share/Metadata Repository Project/ProjectCodeAndData/AnalyticsDatasetsAndReports/AnalyticsDatasets/"
File = "TimeSeriesGroup.csv"
ADS0 = read_csv(paste0(Path, File))
### 2 Tidy
NA
### 3 Transform
NA
# first user chooses a cancer
ADS1 = filter(ADS0, CancerGroup=="Respiratory") ### chose from drop down
# then choose an area type
ADS1 = filter(ADS1, AreaType=="Resident LHD") ### chose from drop down
# then choose a specific area
ADS1 = filter(ADS1, AreaName=="Central Coast LHD") ### chose from drop down
# choose the forecast period
Future = 10 ### chose from drop down (1-10 years)
## Fit a timeseries model
# create the ARIMA forecast object
ForecastARIMA = forecast(auto.arima(TempTimeSeries), Future)
# determine min x-axis value
MinYear = min(ADS1$DiagnosisYear, na.rm=TRUE)
# determine max y-axis value (and round to nearest 5)
YMaxARIMA = round(max(ForecastARIMA$upper) * 1.1  / 5) * 5
# determine final forecast (and round to nearest 5)
ForecastARIMAFinal = round(ForecastARIMA[[4]][Future] / 5) * 5 ### use this number for the auto-authoring - more on this later...
# Send to ggplot
windows(6,5)
autoplot(ForecastARIMA, ylim=c(0, YMaxARIMA), ylab="Number of cases")
## Fit a timeseries model
# create the ARIMA forecast object
ForecastARIMA = forecast(auto.arima(TempTimeSeries), Future)
source('C:/JamiesFiles/DesktopBackup/RProjects/RApps/ForecastingApp/app.R', echo=TRUE)
ADS0
summary(ADS0)
ADS0
summary(factor(ADS0$AreaType)
)
summary(factor(ADS0$AreaName))
with(ADS0 tabel(factor(AreaType), factor(AreaName))
with(ADS0, table(factor(AreaType), factor(AreaName))
)
with(ADS0, table(factor(AreaName), factor(AreaType)))
ADS1
ForecastARIMA
source('C:/JamiesFiles/DesktopBackup/RProjects/RApps/ForecastingApp/app.R', echo=TRUE)
## DATA PREP
Path = "./Data/"
File = "TimeSeriesGroup.csv"
library(tidyverse)
library(arm)
library(forecast)
library(ggplot2)
## CONFIG
kColPurple = "#48156BBF"
## DATA PREP
Path = "./Data/"
File = "TimeSeriesGroup.csv"
ADS0 = read_csv(paste0(Path, File))
# first user chooses a cancer
ADS1 = filter(ADS0, CancerGroup=="Respiratory") ### chose from drop down
ADS1 = filter(ADS1, AreaType=="Resident LHD") ### chose from drop down
ADS1 = filter(ADS1, AreaName=="Central Coast LHD") ### chose from drop down
TempTimeSeries = ADS1$CasesAnnual
Future = 10
ForecastARIMA = forecast(auto.arima(TempTimeSeries), Future)
MinYear = min(ADS1$DiagnosisYear, na.rm=TRUE)
YMaxARIMA = round(max(ForecastARIMA$upper) * 1.1  / 5) * 5
ForecastARIMAFinal = round(ForecastARIMA[[4]][Future] / 5) * 5 ### use this number for the auto-authoring - more on this later...
autoplot(ForecastARIMA, ylim=c(0, YMaxARIMA), ylab="Number of cases")
shiny::runApp()
runApp()
shiny::runApp()
shiny::runApp()
